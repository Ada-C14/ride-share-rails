<header>
  <h1>Trip Details</h1>
</header>
<main>
  <table class="table">
    <thead>
    <tr>
      <th scope="col">Trip ID</th>
      <th scope="col">Date</th>
      <th scope="col">Passenger</th>
      <th scope="col">Driver</th>
      <th scope="col">Cost</th>
      <th scope="col">Rating</th>
      <th scope="col"></th>
      <th scope="col"></th>
    </tr>
    </thead>
    <tbody>
      <tr>
        <th scope="row"><%= link_to @trip.id, trip_path(@trip.id) %></th>
        <td>
          <%= @trip.date %>
        </td>
        <td>
          <% if @trip.passenger %>
            <p><%= link_to @trip.passenger.name, passenger_path(@trip.passenger_id) %> </p>
          <% else %>
            <p><em>Passenger Not Available</em></p>
          <% end %>
        </td>
        <td>
          <% if @trip.driver %>
            <p><%= link_to @trip.driver.name, driver_path(@trip.driver_id) %></p>
          <% else %>
            <p><em>Driver Not Available</em></p>
          <% end %>
        </td>
        <td>
          $<%= '%.2f' %@trip.cost %>
        </td>
        <td>
          <% if @trip.rating.nil? %>
            <%= form_with model: @trip do |f| %>

            <%= f.radio_button :rating, 1 %>
              <%= f.label "1"%>

            <%= f.radio_button :rating, 2 %>
              <%= f.label "2"%>

            <%= f.radio_button :rating, 3 %>
              <%= f.label "3"%>

            <%= f.radio_button :rating, 4 %>
              <%= f.label "4"%>

            <%= f.radio_button :rating, 5 %>
              <%= f.label "5"%><%= f.submit "Submit" %>

            <% end %>
          <% else %>
              <%= @trip.rating %>
          <% end %>

        </td>
        <td>
          <%= button_to "Edit", edit_trip_path(@trip.id), method: :get, class: "btn btn-outline-warning btn-sm" %>
        </td>
        <td>
          <%= button_to "Delete", trip_path(@trip.id), method: :delete, data: { confirm: "Are you sure you want to delete this trip?" }, class: "btn btn-outline-danger btn-sm" %>
        </td>
      </tr>
    </tbody>
  </table>

</main>