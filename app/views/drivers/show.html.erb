<h2> Driver details page </h2>
<p></p>
<h3>This is <%= @driver.name %> driver page</h3>
<p>Driver's name: <%= @driver.name %></p>
<p>VIN: <%= @driver.vin %></p>
<p>Available: <%= @driver.available %></p>
<p>Driver's average rating: <%=@driver.average_rating %></p>
<p>Total revenue: <%=dollar_format(@driver.earned)%></p>
<%= link_to 'Edit', edit_driver_path(@driver) %>
<%= link_to 'Delete', @driver, method: :delete, data: { confirm: 'Are you sure?' } %>

<table id='trips-table' class="table table-hover">
  <thead class="thead-light">
  <tr <% link_to trip_path(@driver.trips) %> >
      <th>Trip id</th>
      <th>Driver name</th>
      <th>Passenger name</th>
      <th>Rating</th>
      <th>Cost</th>
      <th>Date</th>
    </tr>
  </thead>

  <tbody>
    <% @driver.trips.each do |trip| %>
      <tr>
        <td><%=link_to trip.id, trip_path(trip.id) %></td>
        <td><%=trip.passenger ? trip.passenger.name : "N/A"%></td>
        <td><%=trip.driver ? trip.driver.name : "N/A"%></td>
        <td><%=trip.rating%></td>
        <td><%=dollar_format(trip.cost)%></td>
        <td><%=trip.date%></td>
      </tr>
    <% end %>
  </tbody>

</table>