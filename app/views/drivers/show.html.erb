<header>
  <h1>Driver Details</h1>
</header>
<main>
  <p>Passenger Name: <%= @driver.name %></p>
  <p>Vin: <%= @driver.vin %></p>
  <p>Availability Status: <%= @driver.availability_status ? "AVAILABLE" : "UNAVAILABLE" %></p>
  <p>Total Earnings: $<%= '%.2f' %@driver.total_earnings %></p>
  <p>Average Rating: <%='%.1f' %@driver.average_rating %></p>
  <% if @driver.trips.any? %>
    <table class="table">
      <thead>
      <tr>
        <th scope="col">Trip ID</th>
        <th scope="col">Date</th>
        <th scope="col">Passenger</th>
        <th scope="col">Cost</th>
        <th scope="col">Rating</th>
        <th scope="col"></th>
        <th scope="col"></th>
      </tr>
      </thead>
      <tbody>
      <% @driver.trips.each do |trip| %>
        <tr>
          <th scope="row"><%= link_to trip.id, trip_path(trip.id) %></th>
          <td>
            <%= trip.date %>
          </td>
          <td>
            <% if trip.passenger %>
              <%= trip.passenger.name %>
            <% else %>
              <p><em>Not Available</em></p>
            <% end %>
          </td>
          <td>
            $<%= '%.2f' %trip.cost %>
          </td>
          <td>
            <%= trip.rating %>
          </td>
          <td>
            <%= button_to "Edit", edit_trip_path(trip.id), method: :get, class: "btn btn-outline-warning btn-sm" %>
          </td>
          <td>
            <%= button_to "Delete", trip_path(trip.id), method: :delete, data: { confirm: "Are you sure you want to delete this trip?" }, class: "btn btn-outline-danger btn-sm" %>
          </td>
        </tr>
      <% end %>
      </tbody>
    </table>
  <% end %>
  <%= button_to "Edit Driver", edit_driver_path(@driver.id), method: :get, class: "btn btn-warning btn-sm" %>
  <%= button_to "Delete Driver", driver_path(@driver.id), method: :delete, data: { confirm: "Are you sure you want to delete this driver?" }, class: "btn btn-danger btn-sm" %>
</main>