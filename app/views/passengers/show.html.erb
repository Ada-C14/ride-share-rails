<h2> Passenger details page </h2>
<p></p>
<h3>This is <%= @passenger.name %> passenger page</h3>
<p>Passenger's name: <%= @passenger.name %></p>
<p>Passenger's phone number: <%= @passenger.phone_num %></p>
<p>Total spent: <%=dollar_format(@passenger.total_spent)%></p>

<%= link_to 'Edit', edit_passenger_path(@passenger) %>
<%= link_to 'Delete', @passenger, method: :delete, data: { confirm: 'Are you sure?' } %>
<p></p>
<%= link_to 'Request trip',  passenger_trips_path(@passenger), method: :post %>


<table id='trips-table' class="table table-hover">
  <thead class="thead-light">
  <tr <% link_to trip_path(@passenger.trips) %> >

    <th>Trip id</th>
    <th>Passenger name</th>
    <th>Driver name</th>
    <th>Rating</th>
    <th>Cost</th>
    <th>Date</th>
  </tr>
  </thead>

  <tbody>
  <% @passenger.trips.each do |trip| %>
    <tr>
      <td><%= link_to trip.id, trip_path(trip.id)%></td>

      <td><%=trip.passenger ? trip.passenger.name : "N/A"%></td>
      <td><%=trip.driver ? trip.driver.name : "N/A"%></td>
      <td><%=trip.rating%></td>
      <td><%=dollar_format(trip.cost)%></td>
      <td><%=trip.date%></td>
    </tr>
  <% end %>
  </tbody>

</table>