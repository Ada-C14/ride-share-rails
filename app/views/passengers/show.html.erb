<header>
  <h1>Passenger Details</h1>
</header>
<main>
  <p>Passenger Name: <%= @passenger.name %></p>
  <p>Phone Number: <%= @passenger.phone_number %></p>
  <p>Total Charged: $<%= '%.2f' %@passenger.total_charged %></p>
  <% if @passenger.trips.any? %>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">Trip ID</th>
          <th scope="col">Date</th>
          <th scope="col">Driver</th>
          <th scope="col">Cost</th>
          <th scope="col">Rating</th>
          <th scope="col"></th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <% @passenger.trips.each do |trip| %>
        <tr>
          <th scope="row"><%= link_to trip.id, trip_path(trip.id) %></th>
          <td>
            <%= trip.date %>
          </td>
          <td>
            <% if trip.driver %>
              <%= link_to trip.driver.name, driver_path(trip.driver.id) %>
            <% else %>
              <p><em>Not Available<em></p>
            <% end %>
          </td>
          <td>
            $<%= '%.2f' %trip.cost %>
          </td>
          <td>
            <%= trip.rating %>
          </td>
          <td>
            <%= button_to "Edit", edit_trip_path(trip.id), method: :get, class: "btn btn-outline-warning btn-sm" %>
          </td>
          <td>
            <%= button_to "Delete", trip_path(trip.id), method: :delete, data: { confirm: "Are you sure you want to delete this trip?" }, class: "btn btn-outline-danger btn-sm" %>
          </td
        </tr>
        <% end %>
      </tbody>
    </table>
  <% end %>
  <%= button_to "Request Trip", passenger_trips_path(@passenger.id), class: "btn btn-success btn-lg"  %>
  <%= button_to "Edit Passenger", edit_passenger_path(@passenger.id), method: :get, class: "btn btn-warning btn-sm" %>
  <%= button_to "Delete", passenger_path(@passenger.id), method: :delete, data: { confirm: "Are you sure you want to delete this passenger?" }, class: "btn btn-danger btn-sm" %>
</main>
